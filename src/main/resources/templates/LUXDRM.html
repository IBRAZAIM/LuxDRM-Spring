<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LuxDRM</title>
    <link rel="stylesheet" th:href="@{/LUXDRM.css}">
    <link rel="stylesheet" th:href="@{/navbar.css}">
    <link rel="stylesheet" th:href="@{/footer.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
<div th:insert="~{navbar :: navigation-panel}"></div>
<div class="marquee-container">
    <div class="marquee">
        üî• –°–∫–∏–¥–∫–∏ –¥–æ 15% –Ω–∞ –¥–æ–º–∞—à–Ω—é—é –æ–¥–µ–∂–¥—É! –ê–∫—Ü–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞! üî•
        üåü –£–¥–æ–±—Å—Ç–≤–æ –∏ —Å—Ç–∏–ª—å –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏!
        üïí –£—Å–ø–µ–π—Ç–µ! –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Å–∫–æ—Ä–æ!
    </div>
</div>
<main class="welcome-main">
    <div class="welcome-content">
        <a th:href="@{'/products'}" class="btn">–ù–∞—á–∞—Ç—å –ø–æ–∫—É–ø–∫–∏</a>
    </div>
</main>
<main class="products">
    <section id="product-section">
        <h2 class="topic">–ù–æ–≤–∏–Ω–∫–∏</h2>
        <div class="products-section-container">
            <div th:each="product : ${products}" class="products-section-card">
                <a th:href="@{'/products/' + ${product.getId()}}" class="products-section-link">
                    <!-- –°–∫–∏–¥–∫–∞ —Å–≤–µ—Ä—Ö—É -->
                    <div class="discount-znak" th:text="${product.discount != null ? product.discount + '%' : ''}" th:if="${product.discount != null && product.discount > 0}"></div>
                    <img th:src="${product.images != null && !product.images.isEmpty() ? product.images[0].image : 'https://gemini.google.com/share/83dfcab58776'}"
                         alt="product-img"
                         class="products-section-img">
                    <div class="products-section-info">
                        <p class="products-section-name" th:text="${product.getName()}"></p>
                        <p class="products-section-price" th:text="${product.getPrice()} + ' —Ç–≥'"></p>
                    </div>
                </a>
            </div>
        </div>
    </section>
</main>
<div class="back-to-top" id="backToTop">
    <svg width="30px" height="30px" viewBox="0 0 24 24" fill="fff" xmlns="http://www.w3.org/2000/svg" stroke="#fff">
        <path d="M12 6V18M12 6L7 11M12 6L17 11" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
</div>
<div th:insert="~{footer :: footer-code}"></div>
</body>
<script>
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
    function togglePanel() {
        var sidebar = document.getElementById('sidebar');
        var overlay = document.getElementById('overlay');

        sidebar.classList.toggle('open');  // –û—Ç–∫—Ä—ã—Ç—å –∏–ª–∏ –∑–∞–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å
        overlay.classList.toggle('show');  // –ü–æ–∫–∞–∑–∞—Ç—å –∏–ª–∏ —Å–∫—Ä—ã—Ç—å —Ñ–æ–Ω
    }
</script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const backToTop = document.getElementById("backToTop");

        // –§–ª–∞–≥ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤–æ –≤—Ä–µ–º—è —Å–∫—Ä–æ–ª–ª–∞
        let isScrolling = false;

        // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –∫–Ω–æ–ø–∫–∏
        window.addEventListener("scroll", () => {
            if (!isScrolling) {
                if (window.scrollY > 200) {
                    backToTop.classList.add("show");
                } else {
                    backToTop.classList.remove("show");
                }
            }
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É
        backToTop.addEventListener("click", (e) => {
            e.preventDefault();

            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
            isScrolling = true;

            // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –Ω–∞–≤–µ—Ä—Ö
            window.scrollTo({
                top: 0,
                behavior: "smooth"
            });

            // –°–Ω–∏–º–∞–µ–º —Ñ–ª–∞–≥ —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
            setTimeout(() => {
                isScrolling = false;
            }, 1000); // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–ª–∞–≤–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        });
    });

</script>
</html>
