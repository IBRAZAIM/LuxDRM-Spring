<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LuxDRM</title>
    <link rel="stylesheet" th:href="@{/LUXDRM.css}">
    <link rel="stylesheet" th:href="@{/navbar.css}">
    <link rel="stylesheet" th:href="@{/footer.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
<div th:insert="~{navbar :: navigation-panel}"></div>
<div class="marquee-container">
    <div class="marquee">
        üî• –°–∫–∏–¥–∫–∏ –¥–æ 15% –Ω–∞ –¥–æ–º–∞—à–Ω—é—é –æ–¥–µ–∂–¥—É! –ê–∫—Ü–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞! üî•
        üåü –£–¥–æ–±—Å—Ç–≤–æ –∏ —Å—Ç–∏–ª—å –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏!
        üïí –£—Å–ø–µ–π—Ç–µ! –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Å–∫–æ—Ä–æ!
    </div>
</div>
<main class="welcome-main">
    <div class="welcome-content">
        <a th:href="@{'/products'}" class="btn">–ù–∞—á–∞—Ç—å –ø–æ–∫—É–ø–∫–∏</a>
    </div>
</main>
<main class="products">
    <section id="product-section">
        <h2 class="topic">–ù–æ–≤–∏–Ω–∫–∏</h2>
        <div class="products-section-container">
            <div th:each="product : ${products}" class="products-section-card">
                <a th:href="@{'/products/' + ${product.getId()}}" class="products-section-link">
                    <!-- –°–∫–∏–¥–∫–∞ —Å–≤–µ—Ä—Ö—É -->
                    <div class="discount-znak" th:text="${product.discount != null ? product.discount + '%' : ''}" th:if="${product.discount != null && product.discount > 0}"></div>
                    <img th:src="${product.images != null && !product.images.isEmpty() ? product.images[0].image : 'https://gemini.google.com/share/83dfcab58776'}"
                         alt="product-img"
                         class="products-section-img">
                    <div class="products-section-info">
                        <p class="products-section-name" th:text="${product.getName()}"></p>
                        <p class="products-section-price" th:text="${product.getPrice()} + ' —Ç–≥'"></p>
                    </div>
                </a>
            </div>
        </div>
    </section>
</main>
<div class="back-to-top" id="backToTop">
    <svg width="30px" height="30px" viewBox="0 0 24 24" fill="fff" xmlns="http://www.w3.org/2000/svg" stroke="#fff">
        <path d="M12 6V18M12 6L7 11M12 6L17 11" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
</div>
<div th:insert="~{footer :: footer-code}"></div>
</body>
<script th:src="@{/js/navbar-component.js}" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const backToTop = document.getElementById("backToTop");
        const SHOW_AFTER = 200;

        window.addEventListener("scroll", () => {
            backToTop.classList.toggle("show", window.scrollY > SHOW_AFTER);
        }, { passive: true });

        backToTop.addEventListener("click", (e) => {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: "smooth" });
        });
    });
</script>
<script>
    // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –≤–∏–∑–∏—Ç –ø—Ä–∏ –∑–∞—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
    fetch('/analytics/register', { method: 'GET' });
</script>
</html>
